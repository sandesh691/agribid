(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2580],{190:(e,r,t)=>{Promise.resolve().then(t.bind(t,9912))},7401:(e,r,t)=>{"use strict";t.d(r,{A:()=>m});var i=t(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),n=e=>{let r=a(e);return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},o=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,i.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:c="",children:m,iconNode:h,...p}=e;return(0,i.createElement)("svg",{ref:r,...d,width:s,height:s,stroke:t,strokeWidth:n?24*Number(a)/Number(s):a,className:l("lucide",c),...!m&&!o(p)&&{"aria-hidden":"true"},...p},[...h.map(e=>{let[r,t]=e;return(0,i.createElement)(r,t)}),...Array.isArray(m)?m:[m]])}),m=(e,r)=>{let t=(0,i.forwardRef)((t,a)=>{let{className:o,...d}=t;return(0,i.createElement)(c,{ref:a,iconNode:r,className:l("lucide-".concat(s(n(e))),"lucide-".concat(e),o),...d})});return t.displayName=n(e),t}},2423:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6967:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5870:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]])},9912:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var i=t(5155),s=t(2115),a=t(380),n=t(6967),l=t(5870),o=t(7401);let d=(0,o.A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),c=(0,o.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var m=t(2423),h=t(8173),p=t.n(h);function y(){let{language:e,t:r}=(0,a.o)(),[t,o]=(0,s.useState)([]),[h,y]=(0,s.useState)(!0);(0,s.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/orders/history"),r=await e.json();o(r)}catch(e){console.error(e)}finally{y(!1)}};return(0,i.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",paddingBottom:"3rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-muted)",fontSize:"0.85rem",marginBottom:"1.5rem"},children:[(0,i.jsx)(p(),{href:"/retailer",style:{color:"inherit",textDecoration:"none"},children:r("sidebar_dashboard")}),(0,i.jsx)(n.A,{size:14}),(0,i.jsx)("span",{style:{color:"var(--primary-green)",fontWeight:"bold"},children:r("sidebar_order_history")||"Order History"})]}),(0,i.jsxs)("div",{style:{marginBottom:"2.5rem"},children:[(0,i.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--primary-green)",marginBottom:"0.5rem"},children:r("sidebar_order_history")||"Order History"}),(0,i.jsx)("p",{style:{color:"var(--text-muted)",fontSize:"1.1rem"},children:r("view_past_orders_desc")||"View and track all your successfully completed crop purchases."})]}),h?(0,i.jsxs)("div",{style:{textAlign:"center",padding:"5rem 0"},children:[(0,i.jsx)("div",{className:"animate-spin",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid var(--primary-green)",borderRadius:"50%",margin:"0 auto 1.5rem auto"}}),(0,i.jsx)("p",{style:{color:"var(--text-muted)",fontWeight:"500"},children:r("loading_history")||"Loading your orders..."})]}):0===t.length?(0,i.jsxs)("div",{className:"card animate-fade",style:{textAlign:"center",padding:"5rem 2rem",background:"white",borderRadius:"24px"},children:[(0,i.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1.5rem"},children:"\uD83D\uDCE6"}),(0,i.jsx)("h2",{style:{marginBottom:"1rem"},children:r("no_orders_yet")||"No orders yet"}),(0,i.jsx)("p",{style:{color:"var(--text-muted)",marginBottom:"2rem"},children:r("completed_bids_hint")||"Your successfully completed bids will appear here."}),(0,i.jsxs)(p(),{href:"/retailer/marketplace",className:"btn-primary",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"1rem 2rem",borderRadius:"12px"},children:[r("go_to_marketplace")||"Go to Marketplace"," ",(0,i.jsx)(n.A,{size:18})]})]}):(0,i.jsx)("div",{style:{display:"grid",gap:"1.5rem"},children:t.map(t=>(0,i.jsxs)("div",{className:"card stat-card-hover animate-fade",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1.5rem",borderRadius:"20px",background:"white",border:"1px solid #f1f5f9"},children:[(0,i.jsxs)("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[(0,i.jsx)("div",{style:{width:"60px",height:"60px",borderRadius:"16px",background:"#f0fdf4",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--primary-green)"},children:(0,i.jsx)(l.A,{size:28})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{display:"inline-block",padding:"0.25rem 0.6rem",borderRadius:"6px",fontSize:"0.7rem",fontWeight:"800",background:"#f0fdf4",color:"#166534",textTransform:"uppercase",marginBottom:"0.5rem"},children:t.orderStatus}),(0,i.jsx)("h3",{style:{fontSize:"1.25rem",marginBottom:"0.25rem",color:"#1e293b"},children:t.crop.name}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1.25rem",fontSize:"0.85rem",color:"var(--text-muted)",flexWrap:"wrap"},children:[(0,i.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[(0,i.jsx)(d,{size:14})," ",(0,i.jsxs)("strong",{children:[t.quantityPurchased," kg"]})]}),(0,i.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.4rem"},children:[(0,i.jsx)(c,{size:14})," ",(0,i.jsxs)("strong",{children:["₹",t.pricePerKg,"/kg"]})]}),(0,i.jsx)("span",{style:{display:"flex",alignItems:"center",gap:"0.4rem",color:"var(--primary-green)"},children:(0,i.jsxs)("strong",{children:[r("amount_column")||"Total",": ₹",t.totalAmount.toLocaleString()]})})]})]})]}),(0,i.jsxs)("div",{style:{textAlign:"right"},children:[(0,i.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:"600",marginBottom:"0.25rem"},children:r("transaction_id")||"Transaction ID"}),(0,i.jsxs)("div",{style:{fontWeight:"800",fontSize:"0.85rem",color:"#1e293b",fontFamily:"monospace"},children:["#",t.id.split("-")[0].toUpperCase()]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.75rem",marginTop:"0.75rem",color:"#64748b",justifyContent:"flex-end",fontWeight:"500"},children:[(0,i.jsx)(m.A,{size:13})," ",new Date(t.timestamp).toLocaleDateString("hi"===e?"hi-IN":"kn"===e?"kn-IN":"en-IN",{day:"numeric",month:"short",year:"numeric"})]})]})]},t.id))})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[8173,380,8441,1517,7358],()=>r(190)),_N_E=e.O()}]);