(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6440],{6015:(e,r,t)=>{Promise.resolve().then(t.bind(t,321))},1594:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3239:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6889:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},8617:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},3473:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},767:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});let i=(0,t(7401).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6046:(e,r,t)=>{"use strict";var i=t(6658);t.o(i,"useParams")&&t.d(r,{useParams:function(){return i.useParams}}),t.o(i,"usePathname")&&t.d(r,{usePathname:function(){return i.usePathname}}),t.o(i,"useRouter")&&t.d(r,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(r,{useSearchParams:function(){return i.useSearchParams}})},321:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var i=t(5155),o=t(2115),a=t(6046),n=t(380),s=t(3839),l=t(7401);let d=(0,l.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var c=t(3473);let m=(0,l.A)("layout-panel-top",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]),p=(0,l.A)("layout-panel-left",[["rect",{width:"7",height:"18",x:"3",y:"3",rx:"1",key:"2obqm"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);var f=t(8617),x=t(6889);let h=(0,l.A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var y=t(8173),g=t.n(y);function u(){let{language:e,t:r}=(0,n.o)(),[t,l]=(0,o.useState)({name:"",biddingType:"BULK",totalQuantity:100,qualityGrade:"A",minPrice:"",scheduledStartTime:"09:00",scheduledDuration:8}),[y,u]=(0,o.useState)(!1),b=(0,a.useRouter)(),{showToast:j}=(0,s.d)(),v=async i=>{i.preventDefault(),u(!0);try{let i=await fetch("/api/crops",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(i.ok)j("hi"===e?"फसल सफलतापूर्वक सूचीबद्ध की गई!":"kn"===e?"ಬೆಳೆಯನ್ನು ಯಶಸ್ವಿಯಾಗಿ ಪಟ್ಟಿ ಮಾಡಲಾಗಿದೆ!":"Crop listed successfully!","success"),b.push("/farmer/crops");else{let e=await i.json();j(e.error||r("failed_add_crop"),"error")}}catch(e){j("An unexpected error occurred","error"),console.error(e)}finally{u(!1)}};return(0,i.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"1rem",paddingBottom:"4rem"},children:[(0,i.jsxs)(g(),{href:"/farmer/crops",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b",textDecoration:"none",marginBottom:"1.5rem",fontWeight:"600",fontSize:"0.95rem"},children:[(0,i.jsx)(d,{size:18})," ",r("sidebar_back_home")]}),(0,i.jsxs)("div",{className:"card",style:{padding:"clamp(1.5rem, 5vw, 3rem)",borderRadius:"24px",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.05)"},children:[(0,i.jsxs)("div",{style:{textAlign:"center",marginBottom:"2.5rem"},children:[(0,i.jsx)("div",{style:{width:"48px",height:"48px",background:"#f0fdf4",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.25rem auto",color:"var(--primary-green)"},children:(0,i.jsx)(c.A,{size:24})}),(0,i.jsx)("h2",{style:{fontSize:"clamp(1.5rem, 6vw, 2.25rem)",fontWeight:"900",color:"#1e293b",marginBottom:"0.5rem"},children:r("list_new_crop_title")}),(0,i.jsx)("p",{style:{color:"#64748b",fontSize:"1rem"},children:"hi"===e?"अपनी फसल के विवरण भरें और नीलामी शुरू करें।":"kn"===e?"ನಿಮ್ಮ ಬೆಳೆ ವಿವರಗಳನ್ನು ಭರ್ತಿ ಮಾಡಿ ಮತ್ತು ಹರಾಜನ್ನು ಪ್ರಾರಂಭಿಸಿ.":"Fill in your crop details and start your auction."})]}),(0,i.jsxs)("form",{onSubmit:v,children:[(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"800",color:"#1e293b",fontSize:"1rem"},children:r("crop_name_label")}),(0,i.jsx)("input",{type:"text",required:!0,value:t.name,onChange:e=>l({...t,name:e.target.value}),style:{width:"100%",padding:"1.1rem",borderRadius:"16px",border:"2px solid #f1f5f9",fontSize:"1.1rem",background:"#f8fafc",fontWeight:"600",outline:"none",transition:"border-color 0.2s"},placeholder:r("basmati_rice_placeholder")})]}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"1rem",fontWeight:"800",color:"#1e293b",fontSize:"1rem"},children:r("bidding_type_label")}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,i.jsxs)("div",{onClick:()=>l({...t,biddingType:"BULK",totalQuantity:100}),style:{flex:"1 1 280px",padding:"1.5rem",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",border:"2px solid",borderColor:"BULK"===t.biddingType?"var(--primary-green)":"#f1f5f9",background:"BULK"===t.biddingType?"#f0fdf4":"white",boxShadow:"BULK"===t.biddingType?"0 10px 15px -3px rgba(21, 128, 61, 0.1)":"none"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,i.jsx)(m,{size:20,color:"BULK"===t.biddingType?"var(--primary-green)":"#94a3b8"}),(0,i.jsx)("strong",{style:{fontSize:"1.1rem",fontWeight:"800",color:"BULK"===t.biddingType?"#166534":"#64748b"},children:"BULK"})]}),(0,i.jsx)("p",{style:{fontSize:"0.85rem",color:"BULK"===t.biddingType?"#15803d":"#94a3b8",lineHeight:"1.4",fontWeight:"500"},children:r("bulk_desc")})]}),(0,i.jsxs)("div",{onClick:()=>l({...t,biddingType:"MINI",totalQuantity:1}),style:{flex:"1 1 280px",padding:"1.5rem",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",border:"2px solid",borderColor:"MINI"===t.biddingType?"var(--primary-green)":"#f1f5f9",background:"MINI"===t.biddingType?"#f0fdf4":"white",boxShadow:"MINI"===t.biddingType?"0 10px 15px -3px rgba(21, 128, 61, 0.1)":"none"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,i.jsx)(p,{size:20,color:"MINI"===t.biddingType?"var(--primary-green)":"#94a3b8"}),(0,i.jsx)("strong",{style:{fontSize:"1.1rem",fontWeight:"800",color:"MINI"===t.biddingType?"#166534":"#64748b"},children:"MINI"})]}),(0,i.jsx)("p",{style:{fontSize:"0.85rem",color:"MINI"===t.biddingType?"#15803d":"#94a3b8",lineHeight:"1.4",fontWeight:"500"},children:r("mini_desc")})]})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"800",color:"#1e293b",fontSize:"1rem"},children:r("total_quantity_label")}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)("input",{type:"number",min:"BULK"===t.biddingType?"21":"1",max:"BULK"===t.biddingType?"10000":"20",required:!0,value:t.totalQuantity,onChange:e=>l({...t,totalQuantity:Number(e.target.value)}),style:{width:"100%",padding:"1.1rem",borderRadius:"16px",border:"2px solid #f1f5f9",fontSize:"1.1rem",background:"#f8fafc",fontWeight:"700",outline:"none"}}),(0,i.jsx)("span",{style:{position:"absolute",right:"1.25rem",top:"50%",transform:"translateY(-50%)",fontWeight:"800",color:"#94a3b8"},children:"kg"})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.75rem",color:"#64748b",fontSize:"0.85rem",fontWeight:"600"},children:[(0,i.jsx)(f.A,{size:14}),"BULK"===t.biddingType?r("bulk_quantity_rule"):r("mini_quantity_rule")]})]}),"BULK"===t.biddingType&&(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"800",color:"#1e293b",fontSize:"1rem"},children:r("start_time_label")}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(x.A,{size:20,style:{position:"absolute",left:"1.1rem",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),(0,i.jsx)("input",{type:"time",required:!0,value:t.scheduledStartTime,onChange:e=>l({...t,scheduledStartTime:e.target.value}),style:{width:"100%",padding:"1.1rem 1.1rem 1.1rem 3rem",borderRadius:"16px",border:"2px solid #f1f5f9",fontSize:"1.1rem",background:"#f8fafc",fontWeight:"600",outline:"none"}})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"800",color:"#1e293b",fontSize:"1rem"},children:r("duration_label")}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)("input",{type:"number",min:"1",max:"10",required:!0,value:t.scheduledDuration,onChange:e=>l({...t,scheduledDuration:Number(e.target.value)}),style:{width:"100%",padding:"1.1rem",borderRadius:"16px",border:"2px solid #f1f5f9",fontSize:"1.1rem",background:"#f8fafc",fontWeight:"700",outline:"none"}}),(0,i.jsx)("span",{style:{position:"absolute",right:"1.25rem",top:"50%",transform:"translateY(-50%)",fontWeight:"800",color:"#94a3b8"},children:"hrs"})]})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"2rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"800",color:"#1e293b",fontSize:"1rem"},children:r("quality_grade_label")}),(0,i.jsxs)("select",{value:t.qualityGrade,onChange:e=>l({...t,qualityGrade:e.target.value}),style:{width:"100%",padding:"1.1rem",borderRadius:"16px",border:"2px solid #f1f5f9",fontSize:"1.1rem",background:"#f8fafc",fontWeight:"600",outline:"none",cursor:"pointer"},children:[(0,i.jsx)("option",{value:"A",children:r("grade_a_label")}),(0,i.jsx)("option",{value:"B",children:r("grade_b_label")}),(0,i.jsx)("option",{value:"C",children:r("grade_c_label")})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"800",color:"#1e293b",fontSize:"1rem"},children:r("min_price_label")}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)("span",{style:{position:"absolute",left:"1.1rem",top:"50%",transform:"translateY(-50%)",fontSize:"1.2rem",fontWeight:"800",color:"#94a3b8"},children:"₹"}),(0,i.jsx)("input",{type:"number",required:!0,value:t.minPrice,onChange:e=>l({...t,minPrice:e.target.value}),style:{width:"100%",padding:"1.1rem 1.1rem 1.1rem 2.25rem",borderRadius:"16px",border:"2px solid #f1f5f9",fontSize:"1.1rem",background:"#f8fafc",fontWeight:"800",outline:"none"},placeholder:"0"}),(0,i.jsx)("span",{style:{position:"absolute",right:"1.25rem",top:"50%",transform:"translateY(-50%)",fontWeight:"700",color:"#94a3b8",fontSize:"0.9rem"},children:"/kg"})]})]})]}),(0,i.jsxs)("div",{style:{background:"#f0fdf4",padding:"2rem",borderRadius:"24px",marginBottom:"3rem",border:"2px dashed #bbf7d0",position:"relative",overflow:"hidden"},children:[(0,i.jsx)("div",{style:{position:"absolute",top:"-10px",right:"-10px",opacity:.1,color:"var(--primary-green)"},children:(0,i.jsx)(h,{size:100})}),(0,i.jsxs)("h4",{style:{color:"#166534",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.6rem",fontSize:"1.1rem",fontWeight:"900"},children:[(0,i.jsx)(h,{size:20})," ",r("ai_fair_price")]}),(0,i.jsx)("p",{style:{fontSize:"1rem",color:"#15803d",fontWeight:"500",lineHeight:"1.5"},children:r("ai_price_desc_template").replace("{crop}",t.name||("hi"===e?"इस फसल":"kn"===e?"ಈ ಬೆಳೆ":"this crop")).replace("{grade}",t.qualityGrade)}),(0,i.jsxs)("div",{style:{fontWeight:"900",marginTop:"1rem",fontSize:"1.75rem",color:"#166534",letterSpacing:"-0.5px"},children:["₹",t.minPrice?Math.floor(.9*Number(t.minPrice)):"--"," - ₹",t.minPrice?Math.floor(1.15*Number(t.minPrice)):"--"]})]}),(0,i.jsx)("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"1.25rem",fontSize:"1.25rem",fontWeight:"900",borderRadius:"20px",boxShadow:"0 10px 15px -3px rgba(21, 128, 61, 0.3)"},disabled:y,children:y?r("creating_listing_btn"):r("list_crop_btn")})]})]})]})}},3839:(e,r,t)=>{"use strict";t.d(r,{ToastProvider:()=>p,d:()=>x});var i=t(5155),o=t(8803),a=t.n(o),n=t(2115),s=t(3239),l=t(1594),d=t(8617),c=t(767);let m=(0,n.createContext)(void 0);function p(e){let{children:r}=e,[t,o]=(0,n.useState)([]),a=(0,n.useCallback)(e=>{o(r=>r.filter(r=>r.id!==e))},[]),s=(0,n.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=Date.now();o(i=>[...i,{id:t,message:e,type:r}]),setTimeout(()=>a(t),5e3)},[a]);return(0,i.jsxs)(m.Provider,{value:{showToast:s},children:[r,(0,i.jsx)("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:9999,display:"flex",flexDirection:"column",gap:"10px",pointerEvents:"none"},children:t.map(e=>(0,i.jsx)(f,{toast:e,onClose:()=>a(e.id)},e.id))})]})}function f(e){let{toast:r,onClose:t}=e,o=(()=>{switch(r.type){case"success":return{bg:"#f0fdf4",border:"#bbf7d0",color:"#15803d",icon:(0,i.jsx)(s.A,{size:20})};case"error":return{bg:"#fef2f2",border:"#fecaca",color:"#b91c1c",icon:(0,i.jsx)(l.A,{size:20})};case"warning":return{bg:"#fffbeb",border:"#fef3c7",color:"#b45309",icon:(0,i.jsx)(l.A,{size:20})};default:return{bg:"#eff6ff",border:"#dbeafe",color:"#1d4ed8",icon:(0,i.jsx)(d.A,{size:20})}}})();return(0,i.jsxs)("div",{style:{background:o.bg,border:"1px solid ".concat(o.border),color:o.color,padding:"12px 20px",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"12px",minWidth:"300px",maxWidth:"450px",pointerEvents:"auto",animation:"slideIn 0.3s ease-out forwards",position:"relative",overflow:"hidden"},className:"jsx-e320f81d480ff09a",children:[(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-e320f81d480ff09a",children:o.icon}),(0,i.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:"600",flex:1},className:"jsx-e320f81d480ff09a",children:r.message}),(0,i.jsx)("button",{onClick:t,style:{background:"transparent",border:"none",color:"inherit",cursor:"pointer",opacity:.6,padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},className:"jsx-e320f81d480ff09a",children:(0,i.jsx)(c.A,{size:16})}),(0,i.jsx)("div",{style:{position:"absolute",bottom:0,left:0,height:"3px",background:o.color,opacity:.2,animation:"progress 5s linear forwards"},className:"jsx-e320f81d480ff09a"}),(0,i.jsx)(a(),{id:"e320f81d480ff09a",children:"@-webkit-keyframes slideIn{from{-webkit-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);transform:translatex(0);opacity:1}}@-moz-keyframes slideIn{from{-moz-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-moz-transform:translatex(0);transform:translatex(0);opacity:1}}@-o-keyframes slideIn{from{-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-o-transform:translatex(0);transform:translatex(0);opacity:1}}@keyframes slideIn{from{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%);opacity:0}to{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1}}@-webkit-keyframes progress{from{width:100%}to{width:0%}}@-moz-keyframes progress{from{width:100%}to{width:0%}}@-o-keyframes progress{from{width:100%}to{width:0%}}@keyframes progress{from{width:100%}to{width:0%}}"})]})}let x=()=>{let e=(0,n.useContext)(m);if(!e)throw Error("useToast must be used within ToastProvider");return e}}},e=>{var r=r=>e(e.s=r);e.O(0,[8173,5099,380,8441,1517,7358],()=>r(6015)),_N_E=e.O()}]);