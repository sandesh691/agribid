(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{8476:(e,t,r)=>{Promise.resolve().then(r.bind(r,2305))},2305:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(5155),i=r(2115),l=r(380);function o(){let{language:e,t}=(0,l.o)(),[r,o]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0);(0,i.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await fetch("/api/farmer/income"),t=await e.json();o(t)}catch(e){console.error(e)}finally{a(!1)}};if(s)return(0,n.jsx)("div",{style:{padding:"2rem",textAlign:"center",color:"var(--primary-green)"},children:"hi"===e?"कमाई का डेटा लोड हो रहा है...":"kn"===e?"ಗಳಿಕೆಯ ಡೇಟಾವನ್ನು ಲೋಡ್ ಮಾಡಲಾಗುತ್ತಿದೆ...":"Loading earnings data..."});let c=Math.max(...(null==r?void 0:r.monthlyEarnings.map(e=>e.amount))||[1],1);return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{marginBottom:"1.5rem",fontWeight:"800",color:"#1e293b"},children:t("income_tracking_title")}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"2.5rem"},children:[(0,n.jsxs)("div",{className:"card",style:{borderLeft:"6px solid var(--primary-green)",borderRadius:"16px"},children:[(0,n.jsx)("span",{style:{fontSize:"0.9rem",color:"var(--text-muted)",fontWeight:"600"},children:t("total_earnings")}),(0,n.jsxs)("h2",{style:{fontSize:"2.25rem",color:"var(--primary-green)",margin:"0.5rem 0",fontWeight:"900"},children:["₹",null==r?void 0:r.totalEarnings.toLocaleString()]}),(0,n.jsx)("p",{style:{fontSize:"0.8rem",color:"#64748b"},children:t("lifetime_sales")})]}),(0,n.jsxs)("div",{className:"card",style:{borderLeft:"6px solid #f59e0b",borderRadius:"16px"},children:[(0,n.jsx)("span",{style:{fontSize:"0.9rem",color:"var(--text-muted)",fontWeight:"600"},children:t("pending_clearance")}),(0,n.jsxs)("h2",{style:{fontSize:"2.25rem",color:"#f59e0b",margin:"0.5rem 0",fontWeight:"900"},children:["₹",null==r?void 0:r.pendingPayments.toLocaleString()]}),(0,n.jsx)("p",{style:{fontSize:"0.8rem",color:"#64748b"},children:t("awaiting_payment")})]}),(0,n.jsxs)("div",{className:"card",style:{borderLeft:"6px solid #3b82f6",borderRadius:"16px"},children:[(0,n.jsx)("span",{style:{fontSize:"0.9rem",color:"var(--text-muted)",fontWeight:"600"},children:t("stability_score")}),(0,n.jsx)("h2",{style:{fontSize:"2.25rem",color:"#3b82f6",margin:"0.5rem 0",fontWeight:"900"},children:"82%"}),(0,n.jsx)("p",{style:{fontSize:"0.8rem",color:"#64748b"},children:t("income_reliability")})]})]}),(0,n.jsxs)("div",{className:"card",style:{marginBottom:"2.5rem",borderRadius:"20px"},children:[(0,n.jsx)("h3",{style:{marginBottom:"2rem",fontWeight:"800"},children:t("earning_trends")}),(0,n.jsx)("div",{style:{display:"flex",alignItems:"flex-end",gap:"1.5rem",height:"220px",padding:"0 1rem"},children:null==r?void 0:r.monthlyEarnings.map((e,t)=>(0,n.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem"},children:[(0,n.jsx)("div",{style:{width:"100%",maxWidth:"45px",background:"linear-gradient(to top, var(--primary-green), #4ade80)",height:"".concat(e.amount/c*160,"px"),borderRadius:"8px 8px 0 0",transition:"height 0.3s ease",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.1)"},title:"₹".concat(e.amount)}),(0,n.jsx)("span",{style:{fontSize:"0.8rem",fontWeight:"700",color:"#64748b"},children:e.month})]},t))})]}),(0,n.jsxs)("div",{className:"card",style:{borderRadius:"20px",padding:"2rem"},children:[(0,n.jsx)("h3",{style:{marginBottom:"1.5rem",fontWeight:"800"},children:t("transaction_history")}),(null==r?void 0:r.transactions.length)===0?(0,n.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8"},children:(0,n.jsx)("p",{style:{fontSize:"1.1rem"},children:t("no_completed_sales")})}):(0,n.jsx)("div",{style:{overflowX:"auto"},children:(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{style:{textAlign:"left",borderBottom:"2px solid #f1f5f9"},children:[(0,n.jsx)("th",{style:{padding:"1rem",color:"#64748b",fontWeight:"700"},children:t("crop_label")}),(0,n.jsx)("th",{style:{padding:"1rem",color:"#64748b",fontWeight:"700"},children:t("qty_column")}),(0,n.jsx)("th",{style:{padding:"1rem",color:"#64748b",fontWeight:"700"},children:t("amount_column")}),(0,n.jsx)("th",{style:{padding:"1rem",color:"#64748b",fontWeight:"700"},children:t("payment_status_column")}),(0,n.jsx)("th",{style:{padding:"1rem",color:"#64748b",fontWeight:"700"},children:t("date_column")})]})}),(0,n.jsx)("tbody",{children:null==r?void 0:r.transactions.map(t=>(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #f1f5f9",transition:"background 0.2s"},children:[(0,n.jsx)("td",{style:{padding:"1rem",fontWeight:"700",color:"#1e293b"},children:t.crop.name}),(0,n.jsx)("td",{style:{padding:"1rem",color:"#475569"},children:t.quantityPurchased}),(0,n.jsxs)("td",{style:{padding:"1rem",fontWeight:"800",color:"var(--primary-green)"},children:["₹",t.totalAmount.toLocaleString()]}),(0,n.jsx)("td",{style:{padding:"1rem"},children:(0,n.jsx)("span",{style:{padding:"4px 10px",borderRadius:"8px",background:"RECEIVED"===t.paymentStatus?"#f0fdf4":"#fff7ed",color:"RECEIVED"===t.paymentStatus?"#15803d":"#9a3412",fontSize:"0.75rem",fontWeight:"800",textTransform:"uppercase",letterSpacing:"0.025em"},children:"RECEIVED"===t.paymentStatus?"hi"===e?"प्राप्त":"kn"===e?"ಸ್ವೀಕರಿಸಲಾಗಿದೆ":"RECEIVED":"hi"===e?"लंबित":"kn"===e?"ಬಾಕಿ ಇದೆ":"PENDING"})}),(0,n.jsx)("td",{style:{padding:"1rem",fontSize:"0.9rem",color:"#64748b"},children:new Date(t.timestamp).toLocaleDateString()})]},t.id))})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[380,8441,1517,7358],()=>t(8476)),_N_E=e.O()}]);