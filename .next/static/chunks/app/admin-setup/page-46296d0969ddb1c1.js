(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{4511:(e,r,t)=>{Promise.resolve().then(t.bind(t,489))},6046:(e,r,t)=>{"use strict";var i=t(6658);t.o(i,"useParams")&&t.d(r,{useParams:function(){return i.useParams}}),t.o(i,"usePathname")&&t.d(r,{usePathname:function(){return i.usePathname}}),t.o(i,"useRouter")&&t.d(r,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(r,{useSearchParams:function(){return i.useSearchParams}})},489:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var i=t(5155),n=t(2115),a=t(6046),s=t(8173),o=t.n(s);function d(){let[e,r]=(0,n.useState)({email:"",password:"",role:"ADMIN",adminSecret:""}),[t,s]=(0,n.useState)(""),[d,l]=(0,n.useState)(!1),u=(0,a.useRouter)(),c=async r=>{r.preventDefault(),l(!0),s("");try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=r.headers.get("content-type");if(t&&t.includes("application/json")){let e=await r.json();r.ok?u.push("/login?registered=success&type=admin"):s(e.error||"Admin Registration failed")}else s("Invalid server response.")}catch(e){s("An error occurred. Please try again.")}finally{l(!1)}};return(0,i.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#1a202c",padding:"2rem"},children:(0,i.jsxs)("div",{className:"card",style:{width:"100%",maxWidth:"450px",padding:"2.5rem",borderTop:"4px solid #e53e3e"},children:[(0,i.jsx)("h2",{style:{textAlign:"center",marginBottom:"0.5rem",color:"#e53e3e"},children:"\uD83D\uDEE1ï¸ Admin Gateway"}),(0,i.jsx)("p",{style:{textAlign:"center",color:"#718096",marginBottom:"2rem",fontSize:"0.9rem"},children:"Restricted Developer Access Only"}),t&&(0,i.jsx)("div",{style:{background:"#fff5f5",color:"#c53030",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem",border:"1px solid #feb2b2"},children:t}),(0,i.jsxs)("form",{onSubmit:c,children:[(0,i.jsxs)("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#f7fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#2d3748"},children:"Developer Authorization Key"}),(0,i.jsx)("input",{type:"password",value:e.adminSecret,onChange:t=>r({...e,adminSecret:t.target.value}),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid #cbd5e0",outline:"none"},placeholder:"Required for admin role",suppressHydrationWarning:!0})]}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#2d3748"},children:"Admin Email"}),(0,i.jsx)("input",{type:"email",value:e.email,onChange:t=>r({...e,email:t.target.value}),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid #cbd5e0",outline:"none"},suppressHydrationWarning:!0})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:"#2d3748"},children:"Secure Password"}),(0,i.jsx)("input",{type:"password",value:e.password,onChange:t=>r({...e,password:t.target.value}),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid #cbd5e0",outline:"none"},suppressHydrationWarning:!0})]}),(0,i.jsx)("button",{type:"submit",className:"btn-primary",style:{width:"100%",padding:"0.9rem",background:"#e53e3e",borderColor:"#c53030"},disabled:d,children:d?"Authorizing...":"Initialize Admin Account"})]}),(0,i.jsx)("p",{style:{textAlign:"center",marginTop:"1.5rem",fontSize:"0.85rem"},children:(0,i.jsx)(o(),{href:"/login",style:{color:"#718096",textDecoration:"underline"},children:"Back to standard login"})})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[8173,8441,1517,7358],()=>r(4511)),_N_E=e.O()}]);