(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8733],{1758:(e,t,r)=>{Promise.resolve().then(r.bind(r,2342))},2342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),n=r(2115);function d(){let[e,t]=(0,n.useState)([]),[r,d]=(0,n.useState)(!0);(0,n.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await fetch("/api/admin/users"),r=await e.json();t(r)}catch(e){console.error(e)}finally{d(!1)}},a=async(e,t)=>{try{(await fetch("/api/admin/users/".concat(e,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"ACTIVE"===t?"SUSPENDED":"ACTIVE"})})).ok&&i()}catch(e){console.error(e)}},c=async e=>{try{(await fetch("/api/admin/users/".concat(e,"/verify"),{method:"PATCH"})).ok&&i()}catch(e){console.error(e)}};return(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{style:{marginBottom:"1.5rem"},children:"User Moderation"}),r?(0,s.jsx)("p",{children:"Loading users..."}):(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{textAlign:"left",borderBottom:"2px solid #eee"},children:[(0,s.jsx)("th",{style:{padding:"1rem"},children:"User / Role"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Verification"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Account Status"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Trust Score"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,s.jsxs)("td",{style:{padding:"1rem"},children:[(0,s.jsx)("div",{style:{fontWeight:"bold"},children:e.email}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",color:"#666"},children:e.role})]}),(0,s.jsx)("td",{style:{padding:"1rem"},children:e.verified?(0,s.jsx)("span",{style:{color:"var(--primary-green)",fontWeight:"bold"},children:"âœ… Verified"}):(0,s.jsx)("button",{onClick:()=>c(e.id),className:"btn-outline",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Verify Now"})}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",background:"ACTIVE"===e.accountStatus?"#e8f5e9":"#ffebee",color:"ACTIVE"===e.accountStatus?"#2e7d32":"#c62828",fontSize:"0.8rem"},children:e.accountStatus})}),(0,s.jsxs)("td",{style:{padding:"1rem"},children:[e.trustScore,"%"]}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsx)("button",{onClick:()=>a(e.id,e.accountStatus),style:{background:"none",border:"none",color:"ACTIVE"===e.accountStatus?"#c62828":"#2e7d32",cursor:"pointer",textDecoration:"underline"},children:"ACTIVE"===e.accountStatus?"Suspend":"Activate"})})]},e.id))})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(1758)),_N_E=e.O()}]);