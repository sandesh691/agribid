(()=>{var e={};e.id=7618,e.ids=[7618],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},98229:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>h,tree:()=>a});var s=t(70260),i=t(28203),n=t(25155),o=t.n(n),d=t(67292),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(r,l);let a=["",{children:["admin",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,76573)),"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\admin\\reports\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,96038)),"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],p=["C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\admin\\reports\\page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/reports/page",pathname:"/admin/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:a}})},66754:(e,r,t)=>{Promise.resolve().then(t.bind(t,76573))},1258:(e,r,t)=>{Promise.resolve().then(t.bind(t,50841))},81520:(e,r,t)=>{Promise.resolve().then(t.bind(t,5303))},16368:(e,r,t)=>{Promise.resolve().then(t.bind(t,54659))},50841:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(45512),i=t(58009);function n(){let[e,r]=(0,i.useState)([]),[t,n]=(0,i.useState)(!0),[o,d]=(0,i.useState)(null),[l,a]=(0,i.useState)(""),[p,c]=(0,i.useState)(!1),h=async()=>{try{let e=await fetch("/api/admin/reports"),t=await e.json();r(t)}catch(e){console.error(e)}finally{n(!1)}},m=async(e,r)=>{c(!0);try{(await fetch(`/api/admin/reports/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:r,adminNote:l})})).ok&&(d(null),a(""),h())}catch(e){console.error(e)}finally{c(!1)}};return(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{style:{marginBottom:"1.5rem"},children:"User Reports & Complaints"}),t?(0,s.jsx)("p",{children:"Loading reports..."}):(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{textAlign:"left",borderBottom:"2px solid #eee"},children:[(0,s.jsx)("th",{style:{padding:"1rem"},children:"User / Role"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Type"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Subject"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Status"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Date"}),(0,s.jsx)("th",{style:{padding:"1rem"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,s.jsxs)("td",{style:{padding:"1rem"},children:[(0,s.jsx)("div",{style:{fontWeight:"bold"},children:e.user.email}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",color:"#666"},children:e.user.role})]}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsx)("span",{style:{fontSize:"0.75rem",padding:"2px 6px",borderRadius:"4px",background:"#f1f5f9"},children:e.type.replace("_"," ")})}),(0,s.jsx)("td",{style:{padding:"1rem"},children:e.subject}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsx)("span",{style:{fontSize:"0.75rem",padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",background:"RESOLVED"===e.status?"#dcfce7":"IN_PROGRESS"===e.status?"#fef9c3":"#fee2e2",color:"RESOLVED"===e.status?"#166534":"IN_PROGRESS"===e.status?"#854d0e":"#991b1b"},children:e.status})}),(0,s.jsx)("td",{style:{padding:"1rem",fontSize:"0.85rem"},children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsx)("button",{onClick:()=>{d(e),a(e.adminNote||"")},style:{color:"var(--primary-green)",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"View Details"})})]},e.id))})]})}),o&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,s.jsxs)("div",{className:"card",style:{width:"90%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,s.jsx)("h3",{children:"Report Details"}),(0,s.jsx)("button",{onClick:()=>d(null),style:{border:"none",background:"none",cursor:"pointer",fontSize:"1.5rem"},children:"\xd7"})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"From:"})," ",o.user.email," (",o.user.role,")"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Type:"})," ",o.type]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Subject:"})," ",o.subject]}),(0,s.jsxs)("div",{style:{background:"#f8fafc",padding:"1rem",borderRadius:"8px",marginTop:"0.5rem"},children:[(0,s.jsx)("strong",{children:"Description:"}),(0,s.jsx)("p",{style:{whiteSpace:"pre-wrap",marginBottom:0},children:o.description})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Admin Note / Response"}),(0,s.jsx)("textarea",{rows:4,value:l,onChange:e=>a(e.target.value),placeholder:"Add a response or internal note...",style:{width:"100%",padding:"0.75rem",borderRadius:"6px",border:"1px solid #cbd5e0"}})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,s.jsx)("button",{onClick:()=>m(o.id,"IN_PROGRESS"),disabled:p,style:{flex:1,padding:"0.75rem",borderRadius:"6px",border:"none",background:"#eab308",color:"white",fontWeight:"bold",cursor:"pointer"},children:"Mark In Progress"}),(0,s.jsx)("button",{onClick:()=>m(o.id,"RESOLVED"),disabled:p,style:{flex:1,padding:"0.75rem",borderRadius:"6px",border:"none",background:"var(--primary-green)",color:"white",fontWeight:"bold",cursor:"pointer"},children:"Mark Resolved"})]})]})})]})}},54659:(e,r,t)=>{"use strict";t.d(r,{default:()=>f});var s=t(45512),i=t(28531),n=t.n(i),o=t(79334),d=t(80574),l=t(64977),a=t(30510),p=t(91583),c=t(80787),h=t(61594),m=t(70384),x=t(87137),u=t(30722);let g=[{name:"Dashboard Overview",href:"/admin",icon:d.A},{name:"User Moderation",href:"/admin/users",icon:l.A},{name:"Marketplace Audit",href:"/admin/crops",icon:a.A},{name:"Dispute Resolution",href:"/admin/disputes",icon:p.A},{name:"User Reports",href:"/admin/reports",icon:c.A},{name:"AI Violations",href:"/admin/ai-violations",icon:h.A,color:"#ef4444"}];function f(){let e=(0,o.usePathname)();return(0,s.jsxs)("aside",{style:{width:"280px",background:"white",borderRight:"1px solid #f1f5f9",padding:"2rem 1.25rem",display:"flex",flexDirection:"column",height:"100vh",position:"sticky",top:0,boxShadow:"4px 0 24px rgba(0,0,0,0.02)"},children:[(0,s.jsx)("div",{style:{marginBottom:"2.5rem"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",marginBottom:"0.5rem"},children:[(0,s.jsx)("div",{style:{background:"linear-gradient(135deg, #15803d 0%, #166534 100%)",color:"white",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.2)"},children:(0,s.jsx)(m.A,{size:22,fill:"currentColor",fillOpacity:.2})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:{fontSize:"1.1rem",fontWeight:800,color:"#1e293b",lineHeight:1.2},children:"AgriBid"}),(0,s.jsx)("span",{style:{fontSize:"0.7rem",fontWeight:700,color:"#15803d",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Admin Portal"})]})]})}),(0,s.jsx)("nav",{style:{display:"flex",flexDirection:"column",gap:"0.4rem",flex:1},children:g.map(r=>{let t=r.icon,i=e===r.href;return(0,s.jsxs)(n(),{href:r.href,className:`sidebar-link ${i?"active":""}`,style:{color:i?"#15803d":"#64748b",border:i?"1px solid rgba(21, 128, 61, 0.1)":"1px solid transparent"},children:[(0,s.jsx)(t,{size:18,style:{color:r.color||(i?"#15803d":"#94a3b8")}}),(0,s.jsx)("span",{children:r.name})]},r.href)})}),(0,s.jsxs)("div",{style:{marginTop:"auto",paddingTop:"1.5rem",borderTop:"1px solid #f1f5f9",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,s.jsxs)(n(),{href:"/",className:"sidebar-link",style:{fontSize:"0.9rem"},children:[(0,s.jsx)(x.A,{size:18}),(0,s.jsx)("span",{children:"Back to Home"})]}),(0,s.jsx)("form",{action:"/api/auth/logout",method:"POST",children:(0,s.jsxs)("button",{type:"submit",className:"sidebar-link",style:{width:"100%",background:"transparent",border:"none",cursor:"pointer",fontSize:"0.9rem",color:"#ef4444"},children:[(0,s.jsx)(u.A,{size:18}),(0,s.jsx)("span",{children:"Sign Out"})]})})]})]})}},96038:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(62740),i=t(44512),n=t(31831),o=t(5303);async function d({children:e}){let r=await (0,i.UL)();return r.get("agribid-session")?.value||(0,n.redirect)("/login"),(0,s.jsxs)("div",{style:{display:"flex",minHeight:"100vh",background:"#f8fafc"},children:[(0,s.jsx)(o.default,{}),(0,s.jsxs)("main",{style:{flex:1,padding:"2rem",maxWidth:"calc(100vw - 280px)",overflowX:"hidden"},children:[(0,s.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2.5rem",background:"white",padding:"1.25rem 2rem",borderRadius:"20px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",border:"1px solid #e2e8f0"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:800,color:"#1e293b"},children:"System Administration"}),(0,s.jsx)("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Welcome back, Super Admin"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,s.jsxs)("div",{style:{textAlign:"right",marginRight:"1rem"},children:[(0,s.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:600},children:"Admin Portal"}),(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"#22c55e"},children:"â— System Online"})]}),(0,s.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, #15803d 0%, #166534 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:700},children:"A"})]})]}),(0,s.jsx)("div",{className:"animate-fade",children:e})]})]})}},76573:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\pprit\\\\OneDrive\\\\Desktop\\\\hgmodel\\\\src\\\\app\\\\admin\\\\reports\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\admin\\reports\\page.tsx","default")},5303:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\pprit\\\\OneDrive\\\\Desktop\\\\hgmodel\\\\src\\\\components\\\\admin\\\\admin-sidebar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\components\\admin\\admin-sidebar.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,6650,4512,8531,4166,9966],()=>t(98229));module.exports=s})();