(()=>{var e={};e.id=1025,e.ids=[1025],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},83797:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l});var i=r(70260),s=r(28203),n=r(25155),o=r.n(n),a=r(67292),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);r.d(t,d);let l=["",{children:["retailer",{children:["active-bids",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,82642)),"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\retailer\\active-bids\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,62427)),"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\retailer\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\retailer\\active-bids\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/retailer/active-bids/page",pathname:"/retailer/active-bids",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},63213:(e,t,r)=>{Promise.resolve().then(r.bind(r,82642))},10477:(e,t,r)=>{Promise.resolve().then(r.bind(r,47990))},45723:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(41680).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},99905:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(41680).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},47990:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var i=r(45512),s=r(58009),n=r(65548),o=r(51965),a=r(99905),d=r(4643),l=r(45723),c=r(30510),p=r(28531),m=r.n(p);function u(){let{language:e,t}=(0,n.o)(),{showToast:r}=(0,o.d)(),[p,u]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0),[x,f]=(0,s.useState)(0),y=async()=>{try{let e=await fetch("/api/bids/my-bids"),t=await e.json();u(t)}catch(e){console.error(e)}finally{g(!1)}},[v,b]=(0,s.useState)(null),j=async e=>{if(!v){b(e);try{let i=await fetch(`/api/orders/pay/${e}`,{method:"POST"});if(i.ok)r(t("order_success_msg")||"Order successfully done!","success"),y();else{let e=await i.json();r(e.error||"Failed to complete order","error")}}catch(e){console.error(e),r("An error occurred","error")}finally{b(null)}}};return(0,i.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",paddingBottom:"3rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-muted)",fontSize:"0.85rem",marginBottom:"1.5rem"},children:[(0,i.jsx)(m(),{href:"/retailer",style:{color:"inherit",textDecoration:"none"},children:t("sidebar_dashboard")}),(0,i.jsx)(a.A,{size:14}),(0,i.jsx)("span",{style:{color:"var(--primary-green)",fontWeight:"bold"},children:t("my_active_bids_title")||"My Active Bids"})]}),(0,i.jsxs)("div",{style:{marginBottom:"2.5rem"},children:[(0,i.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--primary-green)",marginBottom:"0.5rem"},children:t("my_active_bids_title")||"My Active Bids"}),(0,i.jsx)("p",{style:{color:"var(--text-muted)",fontSize:"1.1rem"},children:t("manage_bidding_desc")||"Manage and track your active bids in the marketplace."})]}),h?(0,i.jsxs)("div",{style:{textAlign:"center",padding:"5rem 0"},children:[(0,i.jsx)("div",{className:"animate-spin",style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid var(--primary-green)",borderRadius:"50%",margin:"0 auto 1.5rem auto"}}),(0,i.jsx)("p",{style:{color:"var(--text-muted)",fontWeight:"500"},children:t("loading_bids")||"Loading your bids..."})]}):0===p.length?(0,i.jsxs)("div",{className:"card animate-fade",style:{textAlign:"center",padding:"5rem 2rem",background:"white",borderRadius:"24px"},children:[(0,i.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1.5rem"},children:"\uD83C\uDFAF"}),(0,i.jsx)("h2",{style:{marginBottom:"1rem"},children:t("no_active_bids")||"No active bids found"}),(0,i.jsx)("p",{style:{color:"var(--text-muted)",marginBottom:"2rem"},children:t("browse_market_hint")||"Start bidding on fresh crops to see your activity here."}),(0,i.jsxs)(m(),{href:"/retailer/marketplace",className:"btn-primary",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"1rem 2rem",borderRadius:"12px"},children:[t("go_to_marketplace")||"Go to Marketplace"," ",(0,i.jsx)(a.A,{size:18})]})]}):(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"2rem"},children:p.map(e=>{let r=new Date(e.crop.biddingEndTime).getTime()<=x,s="ACCEPTED"===e.status;return(0,i.jsxs)("div",{className:"card stat-card-hover animate-fade",style:{display:"flex",flexDirection:"column",padding:"1.5rem",borderRadius:"24px",border:"ACCEPTED"===e.status?"2px solid var(--primary-green)":"none",background:"white",position:"relative",overflow:"hidden"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.25rem",alignItems:"center"},children:[(0,i.jsx)("span",{style:{padding:"0.4rem 0.8rem",borderRadius:"100px",fontSize:"0.7rem",fontWeight:"800",background:"ACCEPTED"===e.status?"#f0fdf4":"REJECTED"===e.status?"#fef2f2":"#eff6ff",color:"ACCEPTED"===e.status?"#166534":"REJECTED"===e.status?"#991b1b":"#1e40af",textTransform:"uppercase"},children:e.status}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",color:r?"#64748b":"#ef4444",fontSize:"0.8rem",fontWeight:"700"},children:[(0,i.jsx)(d.A,{size:14}),(0,i.jsx)("span",{children:r?t("auction_closed")||"Closed":t("auction_live")||"Auction Live"})]})]}),(0,i.jsx)("h2",{style:{fontSize:"1.4rem",marginBottom:"0.5rem",color:"#1e293b"},children:e.crop.name}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-muted)",fontSize:"0.85rem",marginBottom:"1.25rem"},children:[(0,i.jsx)(l.A,{size:14})," ",new Date(e.createdAt).toLocaleDateString()]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem",background:"#f8fafc",padding:"1rem",borderRadius:"16px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:"0.75rem",color:"#64748b",fontWeight:"600"},children:t("qty_kg")||"Qty"}),(0,i.jsxs)("div",{style:{fontWeight:"800",fontSize:"1.1rem",color:"#1e293b"},children:[e.quantity," kg"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{fontSize:"0.75rem",color:"#64748b",fontWeight:"600"},children:t("your_price")||"Your Price"}),(0,i.jsxs)("div",{style:{fontWeight:"800",fontSize:"1.1rem",color:"var(--primary-green)"},children:["₹",e.pricePerKg,"/kg"]})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)("span",{style:{fontWeight:"700",color:"#1e293b"},children:t("amount_column")||"Total Amount"}),(0,i.jsxs)("span",{style:{fontSize:"1.25rem",fontWeight:"900",color:"#1e293b"},children:["₹",(e.quantity*e.pricePerKg).toLocaleString()]})]}),(0,i.jsx)("div",{style:{marginTop:"auto"},children:s?(0,i.jsx)("button",{onClick:()=>j(e.id),className:"btn-primary",disabled:v===e.id,style:{width:"100%",padding:"1rem",borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontWeight:"800",opacity:v===e.id?.7:1,cursor:v===e.id?"not-allowed":"pointer"},children:v===e.id?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin",style:{width:"18px",height:"18px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%"}}),t("processing")||"Processing..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{size:20})," ",t("complete_payment_btn")||"Complete Payment"]})}):(0,i.jsx)("div",{style:{textAlign:"center",padding:"1rem",background:"#f1f5f9",borderRadius:"12px",color:"#475569",fontSize:"0.9rem",fontWeight:"600",border:"1px solid #e2e8f0"},children:"PENDING"===e.status?t("awaiting_payment")||"Awaiting Action":e.status})})]},e.id)})})]})}},82642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\pprit\\\\OneDrive\\\\Desktop\\\\hgmodel\\\\src\\\\app\\\\retailer\\\\active-bids\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\app\\retailer\\active-bids\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[638,6650,8531,9966,9769],()=>r(83797));module.exports=i})();