exports.id=9257,exports.ids=[9257],exports.modules={38435:(e,t,r)=>{Promise.resolve().then(r.bind(r,63195))},52507:(e,t,r)=>{Promise.resolve().then(r.bind(r,64931))},18741:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(41680).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},64931:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var i=r(45512),s=r(58009),o=r(65548),n=r(51965),a=r(83530),l=r(44269),d=r(18741);let c=(0,r(41680).A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var p=r(4643),m=r(46583);function f(){let{language:e,t}=(0,o.o)(),{showToast:r}=(0,n.d)(),[f,g]=(0,s.useState)([]),[h,x]=(0,s.useState)(!0),[u,b]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[S,v]=(0,s.useState)({type:"WEBSITE_ISSUE",subject:"",description:""}),_=async()=>{try{let e=await fetch("/api/reports"),t=await e.json();g(t||[])}catch(e){console.error(e)}finally{x(!1)}},z=async i=>{i.preventDefault(),b(!0);try{let e=await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(e.ok)r(t("report_success_msg"),"success"),j(!1),v({type:"WEBSITE_ISSUE",subject:"",description:""}),_();else{let t=await e.json();r(t.error||"Failed to submit report","error")}}catch(t){console.error(t),r("hi"===e?"नेटवर्क त्रुटಿ हुई। कृपया पुन: प्रयास करें।":"kn"===e?"ನೆಟ್‌ವರ್ಕ್ ದೋಷ ಸಂಭವಿಸಿದೆ. ದಯವಿಟ್ಟು ಮತ್ತೆ ಪ್ರಯತ್ನಿಸಿ.":"A network error occurred. Please try again.","error")}finally{b(!1)}};return(0,i.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2.5rem"},children:[(0,i.jsxs)("h2",{style:{margin:0,fontSize:"2rem",fontWeight:"800",display:"flex",alignItems:"center",gap:"0.75rem",color:"#1e293b"},children:[(0,i.jsx)(a.A,{size:32,color:"var(--primary-green)"})," ",t("support_reports_title")]}),(0,i.jsxs)("button",{onClick:()=>j(!y),style:{background:y?"#fee2e2":"var(--primary-green)",border:"none",padding:"0.8rem 1.5rem",borderRadius:"12px",color:y?"#ef4444":"white",cursor:"pointer",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s ease",boxShadow:y?"none":"0 4px 12px rgba(21, 128, 61, 0.2)"},children:[y?(0,i.jsx)(l.A,{size:20}):(0,i.jsx)(d.A,{size:20}),y?t("cancel_btn"):t("submit_new_report")]})]}),y&&(0,i.jsxs)("div",{style:{background:"white",padding:"2.5rem",borderRadius:"24px",marginBottom:"3rem",border:"1px solid #e2e8f0",boxShadow:"0 10px 25px -5px rgba(0,0,0,0.05)"},children:[(0,i.jsx)("h3",{style:{marginBottom:"2rem",fontSize:"1.5rem",fontWeight:"800",color:"#1e293b"},children:t("report_issue_title")}),(0,i.jsxs)("form",{onSubmit:z,children:[(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"700",color:"#475569",fontSize:"0.95rem"},children:t("category_label")}),(0,i.jsxs)("select",{value:S.type,onChange:e=>v({...S,type:e.target.value}),style:{width:"100%",padding:"1rem",borderRadius:"14px",border:"2px solid #f1f5f9",fontSize:"1rem",background:"#f8fafc",fontWeight:"500",outline:"none"},children:[(0,i.jsx)("option",{value:"WEBSITE_ISSUE",children:t("website_issue")}),(0,i.jsx)("option",{value:"USER_COMPLAINT_FARMER",children:t("complaint_farmer")}),(0,i.jsx)("option",{value:"USER_COMPLAINT_RETAILER",children:t("complaint_retailer")}),(0,i.jsx)("option",{value:"PAYMENT_ISSUE",children:t("payment_wallet_issue")}),(0,i.jsx)("option",{value:"OTHER",children:t("other_issue")})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"700",color:"#475569",fontSize:"0.95rem"},children:t("subject_label")}),(0,i.jsx)("input",{type:"text",required:!0,value:S.subject,onChange:e=>v({...S,subject:e.target.value}),placeholder:t("subject_placeholder"),style:{width:"100%",padding:"1rem",borderRadius:"14px",border:"2px solid #f1f5f9",fontSize:"1rem",background:"#f8fafc",fontWeight:"500",outline:"none"}})]}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"700",color:"#475569",fontSize:"0.95rem"},children:t("description_label")}),(0,i.jsx)("textarea",{required:!0,rows:5,value:S.description,onChange:e=>v({...S,description:e.target.value}),placeholder:t("description_placeholder"),style:{width:"100%",padding:"1rem",borderRadius:"14px",border:"2px solid #f1f5f9",fontSize:"1rem",background:"#f8fafc",fontWeight:"500",outline:"none",resize:"vertical"}})]}),(0,i.jsx)("button",{type:"submit",disabled:u,style:{width:"100%",padding:"1.1rem",borderRadius:"14px",border:"none",background:"var(--primary-green)",color:"white",fontWeight:"800",cursor:"pointer",fontSize:"1.1rem",boxShadow:"0 4px 12px rgba(21, 128, 61, 0.2)"},children:u?t("submitting_btn"):t("send_report_btn")})]})]}),(0,i.jsxs)("div",{style:{marginTop:"3rem"},children:[(0,i.jsx)("h3",{style:{marginBottom:"2rem",fontSize:"1.5rem",fontWeight:"800",color:"#1e293b"},children:t("previous_reports_title")}),h?(0,i.jsxs)("div",{style:{textAlign:"center",padding:"4rem"},children:[(0,i.jsx)("div",{className:"spinner",style:{margin:"0 auto 1rem auto"}}),(0,i.jsx)("p",{style:{color:"#94a3b8",fontWeight:"500"},children:t("loading_reports")})]}):0===f.length?(0,i.jsxs)("div",{style:{textAlign:"center",padding:"5rem 2rem",background:"white",borderRadius:"24px",color:"#94a3b8",border:"1px solid #f1f5f9"},children:[(0,i.jsx)(c,{size:48,style:{marginBottom:"1.5rem",opacity:.3}}),(0,i.jsx)("p",{style:{fontSize:"1.1rem",fontWeight:"500"},children:t("no_reports_found_msg")})]}):(0,i.jsx)("div",{style:{display:"grid",gap:"1.5rem"},children:f.map(e=>(0,i.jsxs)("div",{style:{border:"1px solid #f1f5f9",padding:"2rem",borderRadius:"20px",background:"white",transition:"all 0.2s ease"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1.25rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,i.jsx)("span",{style:{fontSize:"0.75rem",padding:"5px 12px",borderRadius:"100px",background:"#f1f5f9",color:"#475569",fontWeight:"800",textTransform:"uppercase",letterSpacing:"0.05em"},children:t(e.type.toLowerCase())||e.type.replace("_"," ")}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.35rem",color:"#94a3b8",fontSize:"0.8rem",fontWeight:"600"},children:[(0,i.jsx)(p.A,{size:14})," ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,i.jsx)("h4",{style:{margin:0,fontSize:"1.25rem",fontWeight:"800",color:"#1e293b"},children:e.subject})]}),(0,i.jsxs)("span",{style:{fontSize:"0.85rem",padding:"6px 14px",borderRadius:"12px",fontWeight:"800",background:"RESOLVED"===e.status?"#dcfce7":"IN_PROGRESS"===e.status?"#fef9c3":"#fee2e2",color:"RESOLVED"===e.status?"#15803d":"IN_PROGRESS"===e.status?"#854d0e":"#b91c1c",display:"flex",alignItems:"center",gap:"0.4rem"},children:["RESOLVED"===e.status?(0,i.jsx)(m.A,{size:16}):(0,i.jsx)(p.A,{size:16}),e.status]})]}),(0,i.jsx)("p",{style:{fontSize:"1rem",color:"#475569",marginBottom:"1.5rem",lineHeight:"1.6"},children:e.description}),e.adminNote&&(0,i.jsxs)("div",{style:{background:"#f0f9ff",padding:"1.5rem",borderRadius:"16px",borderLeft:"5px solid #3b82f6",marginTop:"1rem"},children:[(0,i.jsxs)("h5",{style:{margin:"0 0 0.5rem 0",color:"#1e40af",fontWeight:"800",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,i.jsx)(c,{size:16})," ",t("admin_response")]}),(0,i.jsx)("p",{style:{margin:0,fontSize:"0.95rem",color:"#1e3a8a",lineHeight:"1.5"},children:e.adminNote})]}),(0,i.jsxs)("div",{style:{fontSize:"0.75rem",color:"#94a3b8",marginTop:"1rem",fontWeight:"600"},children:[t("submitted_on")," ",new Date(e.createdAt).toLocaleDateString()]})]},e.id))})]})]})}},63195:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\pprit\\\\OneDrive\\\\Desktop\\\\hgmodel\\\\src\\\\components\\\\ReportDashboard.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\pprit\\OneDrive\\Desktop\\hgmodel\\src\\components\\ReportDashboard.tsx","default")}};